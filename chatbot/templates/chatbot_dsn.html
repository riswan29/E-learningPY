{% load static %}
{% block contetnt %}
<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
<html lang="en">
<!--<![endif]-->


<!-- Mirrored from frenify.com/work/envato/frenify/html/techwave/1/ai-chat-bot.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 26 Aug 2023 14:55:39 GMT -->

<head>

	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

	<meta name="description" content="TechWave">
	<meta name="author" content="Frenify">

	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<title>Chat Bot </title>
	<link rel="shortcut icon" href="{% static "img/unefa.png" %}" type="image/x-icon">
	<link rel="icon" href="{% static "img/unefa.png" %}" type="image/x-icon">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/styles/atom-one-dark.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/styles/default.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
	<script>
		if (!localStorage.frenify_skin) {
			localStorage.frenify_skin = 'dark';
		}
		if (!localStorage.frenify_panel) {
			localStorage.frenify_panel = '';
		}
		document.documentElement.setAttribute("data-techwave-skin", localStorage.frenify_skin);
		if (localStorage.frenify_panel !== '') {
			document.documentElement.classList.add(localStorage.frenify_panel);
		}
	</script>

	<!-- Google Fonts -->
	<link rel="preconnect" href="https://fonts.googleapis.com/">
	<link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>
	<link
		href="https://fonts.googleapis.com/css2?family=Heebo:wght@100;200;300;400;500;600;700;800;900&amp;family=Work+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&amp;display=swap"
		rel="stylesheet">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
	<!-- !Google Fonts -->

	<!-- Styles -->
	<link type="text/css" rel="stylesheet" href="{% static "css/plugins8a54.css" %}" />
	<link type="text/css" rel="stylesheet" href="{% static "css/style8a54.css" %}" />
	<!--[if lt IE 9]> <script type="text/javascript" src="js/modernizr.custom.js"></script> <![endif]-->
	<!-- !Styles -->

</head>
<style>
	.scrollable-content {
		max-height: 600px;
		/* Ubah nilai sesuai kebutuhan Anda */
		overflow-y: auto;
	}
	/* Style for the session list */
.group__listt {
  list-style-type: none;
  padding: 0;
}

.group__listt li {
  border: 1px solid #ccc; /* Add border */
  border-radius: 5px; /* Round corners */
  margin-bottom: 10px; /* Add margin between items */
  padding: 10px; /* Add padding */
  display: flex; /* Make items flex containers */
  align-items: center; /* Align items vertically */
}

.group__listt li a {
  text-decoration: none;
  color: #000;
}

.group__listt li a:hover {
  text-decoration: underline;
}

/* Style for the trash icon */
.group__listt li .fa-trash {
  margin-left: auto; /* Push the trash icon to the right */
}

/* Optional: Style the trash icon */
.group__listt li .fa-trash:hover {
  color: red; /* Change color on hover */
}
.group__listt li .fa-trash {
	margin-left: 10px; /* Add some space between the content and the trash icon */
  }
  
</style>

<body>


	<!-- Moving Submenu -->
	<div class="techwave_fn_fixedsub">
		<ul></ul>
	</div>
	<!-- !Moving Submenu -->

	<!-- Preloader -->
	<div class="techwave_fn_preloader">
		<svg>
			<circle class="first_circle" cx="50%" cy="50%" r="110"></circle>
			<circle class="second_circle" cx="50%" cy="50%" r="110"></circle>
		</svg>
	</div>
	<!-- !Preloader -->

	<div class="techwave_fn_font">
		<a class="font__closer_link fn__icon_button" href="#"><img src="svg/close.svg" alt="" class="fn__svg"></a>
		<div class="font__closer"></div>
		<div class="font__dialog">
			<h3 class="title">Font Options</h3>
			<label for="font_size">Font Size</label>
			<select id="font_size">
				<option value="10">10 px</option>
				<option value="12">12 px</option>
				<option value="14">14 px</option>
				<option value="16" selected>16 px</option>
				<option value="18">18 px</option>
				<option value="20">20 px</option>
				<option value="22">22 px</option>
				<option value="24">24 px</option>
				<option value="26">26 px</option>
				<option value="28">28 px</option>
			</select>
			<a href="#" class="apply techwave_fn_button"><span>Apply</span></a>
		</div>
	</div>


	<!-- MAIN WRAPPER -->
	<div class="techwave_fn_wrapper fn__has_sidebar">
		<div class="techwave_fn_wrap">


			<!-- Searchbar -->
			<div class="techwave_fn_searchbar">
				<div class="search__bar">
					<input class="search__input" type="text" placeholder="Search here...">
					<img src="{% static "svg/search.svg" %}" alt="" class="fn__svg search__icon">
					<a class="search__closer" href="#"><img src="{% static "svg/close.svg" %}" alt=""
							class="fn__svg"></a>
				</div>
				<div class="search__results">
					<!-- Results will come here (via ajax after the integration you made after purchase as it doesn't work in HTML) -->
					<div class="results__title">Results</div>
					<div class="results__list">
						<ul>
							<li><a href="#">Artificial Intelligence</a></li>
							<li><a href="#">Learn about the impact of AI on the financial industry</a></li>
							<li><a href="#">Delve into the realm of AI-driven manufacturing</a></li>
							<li><a href="#">Understand the ethical implications surrounding AI</a></li>
						</ul>
					</div>
				</div>
			</div>
			<!-- !Searchbar -->

			<!-- HEADER -->
			<header class="techwave_fn_header">

				<!-- Header left: token information -->
				<div class="header__left">
					<div class="fn__token_info">
						<p class="fn__animated_text" id="description"></p>

					</div>
				</div>
				<!-- /Header left: token information -->


				<!-- Header right: navigation bar -->
				<div class="header__right">
					<div class="fn__nav_bar">

						

						

						<!-- Full Screen (bar item) -->
						<div class="bar__item bar__item_fullscreen">
							<a href="#" class="item_opener">
								<img src="{% static "svg/fullscreen.svg" %}" alt="" class="fn__svg f_screen">
								<img src="{% static "svg/smallscreen.svg" %}" alt="" class="fn__svg s_screen">
							</a>
						</div>
						<!-- !Full Screen (bar item) -->

						<!-- Language (bar item) -->

						<!-- !Language (bar item) -->

						<!-- Site Skin (bar item) -->
						<div class="bar__item bar__item_skin">
							<a href="#" class="item_opener">
								<img src="{% static "svg/sun.svg" %}" alt="" class="fn__svg light_mode">
								<img src="{% static "svg/moon.svg" %}" alt="" class="fn__svg dark_mode">
							</a>
						</div>
						<!-- !Site Skin (bar item) -->

						<!-- User (bar item) -->
						<div class="bar__item bar__item_user">
							<a href="#" class="user_opener">
								<img src="{{user.image.url}}" alt="">
							</a>
							<div class="item_popup">
								<div class="user_profile">
									<div class="user_img">
										<img src="{{user.image.url}}" alt="">
									</div>
									<div class="user_info">
										<h2 class="user_name">{{request.user.username}}</h2>
										<p><a href="mailto:{{request.user.email}}" class="user_email">{{request.user.email}}</a>
										</p>
									</div>
								</div>
								<div class="user_nav">
									<ul>
										<li>
											<a href="{% url "dsn_profile" %}">
												<span class="icon"><img src="{% static "svg/person.svg" %}" alt=""
														class="fn__svg"></span>
												<span class="text">Profile</span>
											</a>
										</li>
										<li>
											<a href="{% url 'edit_mhs' %}">
												<span class="icon"><img src="{% static "svg/setting.svg" %}" alt=""
														class="fn__svg"></span>
												<span class="text">Settings</span>
											</a>
										</li>

										<li>
											<a href="{% url "logout" %}">
												<span class="icon"><img src="{% static "svg/logout.svg" %}" alt=""
														class="fn__svg"></span>
												<span class="text">Log Out</span>
											</a>
										</li>
									</ul>
								</div>
							</div>
						</div>
						<!-- !User (bar item) -->


					</div>
				</div>
				<!-- !Header right: navigation bar -->

			</header>
			<!-- !HEADER -->


			<!-- LEFT PANEL -->
			<div class="techwave_fn_leftpanel">

				<div class="mobile_extra_closer"></div>

				<!-- logo (left panel) -->
				<div class="leftpanel_logo">
					<a href="{% url "dsn_dashboard" %}" class="fn_logo">
						<span class="full_logo">
							<img src="{% static "img/full2.png" %}" alt="" class="desktop_logo">
							<img src="{% static "img/full2.png" %}" alt="" class="retina_logo">
						</span>
						<span class="short_logo">
							<img src="{% static "img/mini.png" %}" alt="" class="desktop_logo">
							<img src="{% static "img/mini.png" %}" alt="" class="retina_logo">
						</span>
					</a>
					<a href="#" class="fn__closer fn__icon_button desktop_closer">
						<img src="{% static "svg/arrow.svg" %}" alt="" class="fn__svg">
					</a>
					<a href="#" class="fn__closer fn__icon_button mobile_closer">
						<img src="{% static "svg/arrow.svg" %}" alt="" class="fn__svg">
					</a>
				</div>
				<!-- !logo (left panel) -->

				<!-- content (left panel) -->
				<div class="leftpanel_content">

					<!-- #1 navigation group -->
					<div class="nav_group">
						<h2 class="group__title">Start Here</h2>
						<ul class="group__list">
							<li>
								<a href="{% url "dsn_dashboard" %}" class="fn__tooltip  menu__item" data-position="right" title="Home">
									<span class="icon"><img src="{% static "svg/home.svg" %}" alt=""
											class="fn__svg"></span>
									<span class="text">Home</span>
								</a>
							</li>

						</ul>
					</div>
					<!-- !#1 navigation group -->

					<!-- #2 navigation group -->
					<div class="nav_group">
						<h2 class="group__title">User Tools</h2>
						<ul class="group__list">

							<li>
								<a href="{% url 'tabel' %}" class="fn__tooltip active menu__item" data-position="right"
									title="AI Chat Bot">
									<span class="icon"><img src="{% static "svg/chatt.svg" %}" alt=""
											class="fn__svg"></span>
									<span class="text">ChatBot</span>
								</a>
							</li>
						</ul>
					</div>
					<!-- !#2 navigation group -->

					<!-- #3 navigation group -->
					<div class="nav_group">
						<h2 class="group__title">Kegiatan</h2>
						<ul class="group__list">

							<li class="menu-item-has-children">
								<a href="video-generation.html" data-position="right">
									<span class="icon"><img src="{% static 'svg/task.svg' %}" alt="" class="fn__svg"></span>
									<span class="text">Diskusi</span>
									<span class="trigger"><img src="{% static 'svg/arrow.svg' %}" alt="" class="fn__svg"></span>
								</a>
								<ul class="sub-menu">
									<li>
										<a href="{% url 'dsn_join'%}"><span class="text">My Room</span></a>
									</li>
									<li>
										<a href="{% url 'create_room_d'%}"><span class="text">Buat Room Diskusi</span></a>
									</li>
									<li>
										<a href="{% url 'room_list_d'%}"><span class="text">Join Room</span></a>
									</li>
	
								</ul>
								
							</li>
							<li class="menu-item-has-children">
								<a href="video-generation.html" data-position="right">
									<span class="icon"><img src="{% static 'svg/task.svg' %}" alt="" class="fn__svg"></span>
									<span class="text">Tugas</span>
									<span class="trigger"><img src="{% static 'svg/arrow.svg' %}" alt="" class="fn__svg"></span>
								</a>
								<ul class="sub-menu">
									<li>
										<a href="{% url 'create'%}"><span class="text">Buat Tugas</span></a>
									</li>
									<li>
										<a href="{% url 'view_ass'%}"><span class="text">List Tugas</span></a>
									</li>
	
								</ul>
								
							</li>
							<li>
								<a href="{% url "logout" %}" class="fn__tooltip menu__item" data-position="right"
									title="Log Out">
									<span class="icon"><img src="{% static "svg/logout.svg" %}" alt=""
											class="fn__svg"></span>
									<span class="text">Log Out</span>
								</a>
							</li>
						</ul>
					</div>
					<!-- !#3 navigation group -->


				</div>
				<!-- !content (left panel) -->

			</div>
			<!-- !LEFT PANEL -->


			<!-- CONTENT -->
			<div class="techwave_fn_content">

				<!-- PAGE (all pages go inside this div) -->
				<div class="techwave_fn_page">

					<!-- AI Chat Bot Page -->
					<div class="techwave_fn_aichatbot_page fn__chatbot">

						<div class="chat__page">

							<div class="font__trigger">
								<span></span>
							</div>

							<div class="fn__title_holder">
								<div class="container">
									<!-- Active chat title -->
									<h1 class="title">Chat Bot Definition</h1>
									<!-- !Active chat title -->
								</div>
							</div>

							<div class="container">
								<div class="chat__list">

									<div id="chat0" class="chat__item"></div>

									<div class="chat__item active" id="chat1">
										{% for conversation in conversations %}
										<div class="chat__box your__chat">
											<div class="author"><span>You</span></div>
											<div class="chat">
												<pre> <code class="highlight">{{ conversation.user_message }}</code></pre>
											</div>
										</div>
										<div class="chat__box bot__chat">
											<div class="author"><span>Bot</span></div>
											<div class="chat">
												{% comment %} <p><span id="botResponse">Searching...</span></p> {% endcomment %}
												<pre> <code class="highlight">{{ conversation.chatbot_response }}</code></pre>
											</div>
										</div>
										{% endfor %}
									</div>

									<div class="chat__item" id="chat2"></div>

									<div class="chat__item" id="chat3"></div>

									<div class="chat__item" id="chat4"></div>

								</div>
							</div>


							<div class="chat__comment">
								<div class="container">
									<div class="fn__chat_comment">
										<form method="post" id="userInputForm">
											{% csrf_token %}
										<div class="new__chat">
											<p>Ask it questions, engage in discussions, or simply enjoy a friendly chat.
											</p>
										</div>
									
									<textarea id="user_input" name="user_input" rows="1" placeholder="Send a message..." id="fn__chat_textarea"></textarea>
									<button type='submit'><img src="{% static "svg/enter.svg" %}" alt="" class="fn__svg"></button>
								</form>
									</div>
								</div>
							</div>

						</div>

						<div class="chat__sidebar">
							<div class="scrollable-content">
								<div class="sidebar_header">
									<a href="{% url 'tabel' %}" class="fn__new_chat_link">
										<span class="icon"></span>
										<span class="text">New Chat</span>
									</a>
								</div>
								<div class="sidebar_content">
									<div class="chat__group new">
										<h2 class="group__title">Today</h2>
										<ul class="group__listt">
											{% for sesi in sesi_list %}
											<li class="">
												<div href="#chat1">
													<a href='{% url "dsn_cb" uuid=sesi.uuid %}'>
													{{ sesi.conversation_set.last.title|default:"Unnamed" }}
											</a>

											<span class="">
												<span class="">
													<span class="">
														<a href="{% url 'hapus_sesi_d' uuid=sesi.uuid %}" onclick="return confirm('Anda yakin ingin menghapus sesi ini?')"><i class="fa fa-trash" aria-hidden="true"></i></a>
													</span>
												</span>
											</span>
												</div>
											</li>
											{% endfor %}
										</ul>
									</div>
								</div>
							</div>
						</div>

					</div>
					<!-- !AI Chat Bot Page -->

				</div>
				<!-- !PAGE (all pages go inside this div) -->


				<!-- FOOTER (inside the content) -->
				<footer class="techwave_fn_footer">
					<div class="techwave_fn_footer_content">
						<div class="copyright">
							<p>2023© Fransiskus Riswan Indra Simbolon</p>
						</div>
						<div class="menu_items">
							<ul>
								<li><a href="terms.html">T A </a></li>
								<li><a href="privacy.html">Skrispi </a></li>
							</ul>
						</div>
					</div>
				</footer>
				<!-- !FOOTER (inside the content) -->

			</div>
			<!-- !CONTENT -->


		</div>
	</div>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script>
		$(document).ready(function() {
			$('#userInputForm').on('submit', function(event) {
				event.preventDefault();  // Prevent the form from submitting via the default method
	
				var user_input = $('#user_input').val();
	
				// Send the user input to the server
				$.ajax({
					type: 'POST',
					url: '',
					data: {
						'user_input': user_input,
						csrfmiddlewaretoken: $('input[name=csrfmiddlewaretoken]').val()
					},
					success: function(data) {
						// Determine if the chatbot response needs code formatting
						var formatted_response = data.chatbot_response.startsWith('```') && data.chatbot_response.endsWith('```') ?
							'<pre><code class="highlight">' + data.chatbot_response.slice(3, -3) + '</code></pre>' :
							data.chatbot_response;
	
						// Update the chat container with the user input and chatbot response
						$('#chatContainer').append('<p>User: <code class="highlight">' + data.user_input + '</code></p>');
						$('#chatContainer').append('<p>Assistant: ' + formatted_response + '</p>');
	
						// Clear the user input textarea
						$('#user_input').val('');
	
						// Highlight new code blocks
						$('code').each(function(i, block) {
							hljs.highlightBlock(block);
						});
	
						// Reload the page after receiving the response
						 location.reload();
					}
				});
			});
		});
	</script>
	
	
	<script>
		function applyStylesheet(mode) {
			var darkModeStylesheet = document.getElementById('dark-mode-stylesheet');
			var lightModeStylesheet = document.getElementById('light-mode-stylesheet');

			if (mode === 'dark') {
				darkModeStylesheet.removeAttribute('disabled');
				lightModeStylesheet.setAttribute('disabled', 'true');
			} else {
				lightModeStylesheet.removeAttribute('disabled');
				darkModeStylesheet.setAttribute('disabled', 'true');
			}
		}

		// Call applyStylesheet with the appropriate mode (dark or light)
		var savedMode = localStorage.getItem('frenify_skin');
		applyStylesheet(savedMode); // Call the function to set the stylesheet according to the saved mode
	</script>
	


	<!-- Scripts -->
	<script type="text/javascript" src="{% static "js/jquery8a54.js" %}"></script>
	<script type="text/javascript" src="{% static "js/plugins8a54.js" %}"></script>
	<!--[if lt IE 10]> <script type="text/javascript" src="js/ie8.js"></script> <![endif]-->
	<script type="text/javascript" src="{% static "js/init8a54.js" %}"></script> 
	<!-- !Scripts -->

</body>

<!-- Mirrored from frenify.com/work/envato/frenify/html/techwave/1/ai-chat-bot.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 26 Aug 2023 14:55:40 GMT -->

</html>

{% endblock contetnt %}